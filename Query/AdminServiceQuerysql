-- ▼ AdminNoticeDAO
-- list 공지사항 리스트
SELECT NOTICE_TITLE, NOTICE_DATE
FROM NOTICE
ORDER BY NOTICE_NUM;

-- searchList 제목 키워드로 공지사항 리스트 조회
SELECT NOTICE_TITLE, NOTICE_DATE
FROM NOTICE
WHERE NOTICE_TITLE LIKE '%계정%'
ORDER BY NOTICE_NUM;

-- insert 공지사항 신규등록
INSERT INTO NOTICE (NOTICE_NUM, ADMIN_NUM, NOTICE_TITLE, NOTICE_DATE, NOTICE_CONTENT)
VALUES (NOTICE_SEQ.NEXTVAL, ?, ?, ?, ?);

-- update 공지사항 수정
UPDATE NOTICE
SET NOTICE_TITLE=?, NOTICE_CONTENT=?
WHERE NOTICE_NUM=?;

-- delete 공지사항 삭제
DELETE
FROM NOTICE
WHERE NOTICE_NUM=?;

-- search 공지사항 번호로 조회 (열람)
SELECT NOTICE_TITLE, NOTICE_DATE, NOTICE_CONTENT
FROM NOTICE
WHERE NOTICE_NUM=?;

--------------------------------------------------------------------------------
-- ▼ AdminFnqDAO
 
-- list 자주 묻는 질문 리스트
SELECT FAQ_NUM, FAQ_QUESTION, FAQ_ANSWER
FROM VIEW_FAQLIST;

-- searchList 자주 묻는 질문 카테고리 별 리스트 조회
SELECT FAQ_NUM, FAQ_QUESTION, FAQ_ANSWER
FROM VIEW_FAQLIST
WHERE QCATEGORY_NUM=?;

-- insert 자주 묻는 질문 신규 등록
INSERT INTO FAQ(FAQ_NUM, QCATEGORY_NUM, ADMIN_NUM, FAQ_QUESTION, FAQ_ANSWER)
VALUES(FAQ_SEQ.NEXTVAL, ?, ?, ?, ?);


-- update 자주 묻는 질문 수정
UPDATE FAQ
SET QCATEGORY_NUM=?, FAQ_QUESTION =?, FAQ_ANSWER=?
WHERE FAQ_NUM=?;


-- delete 자주 묻는 질문 삭제
DELETE
FROM FAQ
WHERE FAQ_NUM=?;

--------------------------------------------------------------------------------
-- ▼ AdminQnaDAO

SELECT QUESTION_NUM, QCATEGORY_CLASS, QUESTION_TITLE, CASE WHEN ANSWER_NUM=0 THEN '미완료'ELSE '완료'END AS QUESTION_DONE, QUESTION_DATE
FROM VIEW_QNA;
--list 질문 리스트

-- searchList 처리 질문 리스트 조회 ※
SELECT QUESTION_NUM, QCATEGORY_CLASS, QUESTION_TITLE, CASE WHEN ANSWER_NUM=0 THEN '미완료'ELSE '완료'END AS QUESTION_DONE, QUESTION_DATE
FROM VIEW_QNA
WHERE ANSWER_NUM !=0;


--미처리 질문 리스트 조회
SELECT QUESTION_NUM, QCATEGORY_CLASS, QUESTION_TITLE, CASE WHEN ANSWER_NUM=0 THEN '미완료'ELSE '완료'END AS QUESTION_DONE, QUESTION_DATE
FROM VIEW_QNA
WHERE ANSWER_NUM =0;

-- insert 답변 신규 등록
INSERT INTO ANSWER(ANSWER_NUM, QUESTION_NUM, ANSWER_CONTENT, ADMIN_NUM)
VALUES(ANSWER_SEQ.NEXTVAL, ?, ?, ?);


-- search 질문 번호로 조회 (열람)
SELECT QCATEGORY_CLASS, USER_NAME, QUESTION_DATE, QUESTION_TITLE,  QUESTION_CONTENT 
FROM VIEW_QUESTION
WHERE QUESTION_NUM=?;


-- search 질문 번호로  답변 조회 (열람)
SELECT QCATEGORY_CLASS, USER_NAME, ADMIN_NAME, QUESTION_DATE, ANSWER_DATE, QUESTION_TITLE,  QUESTION_CONTENT, ANSWER_CONTENT
FROM VIEW_ANSWER
WHERE QUESTION_NUM=?;